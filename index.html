<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Smart Attendance - Panchayati Raj Department</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --primary-light: #eef2ff;
            --secondary: #06d6a0;
            --danger: #ef476f;
            --warning: #ffd166;
            --info: #118ab2;
            --dark: #1a1a2e;
            --gray: #6c757d;
            --gray-light: #f8f9fa;
            --gray-dark: #343a40;
            --border: #e9ecef;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.12);
            --radius: 12px;
            --radius-sm: 8px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f7fb;
            color: var(--dark);
            line-height: 1.6;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        /* Loading Screen */
        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, #3a0ca3 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Login Page Redesign */
        #loginPage {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .login-container {
            width: 100%;
            max-width: 450px;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            transform: translateY(0);
            transition: transform 0.3s ease;
        }

        .login-container:hover {
            transform: translateY(-5px);
        }

        .login-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .login-logo {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .login-logo i {
            font-size: 36px;
            color: var(--primary);
        }

        .login-header h1 {
            font-size: 26px;
            margin-bottom: 8px;
        }

        .login-header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .login-type-selector {
            padding: 30px 30px 0;
        }

        .login-type-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            background: var(--gray-light);
            padding: 5px;
            border-radius: var(--radius-sm);
        }

        .login-type-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .login-type-btn.active {
            background: white;
            color: var(--primary);
            box-shadow: var(--shadow);
        }

        .login-form {
            padding: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 15px;
            transition: var(--transition);
            background: white;
        }

        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.15);
        }

        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: var(--radius-sm);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }

        .btn-block {
            width: 100%;
        }

        .demo-credentials {
            background: var(--primary-light);
            padding: 18px;
            border-radius: var(--radius-sm);
            margin-top: 25px;
            border-left: 4px solid var(--primary);
        }

        .demo-credentials h4 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .demo-credentials p {
            margin-bottom: 5px;
            font-size: 14px;
            color: var(--dark);
        }

        /* Main App Containers */
        #mainApp, #employeeApp {
            display: none;
            min-height: 100vh;
            background: #f5f7fb;
        }

        /* Header Redesign */
        .app-header {
            background: white;
            padding: 0 24px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .logo-text h2 {
            font-size: 18px;
            color: var(--primary);
            margin-bottom: 2px;
        }

        .logo-text p {
            font-size: 12px;
            color: var(--gray);
        }

        .user-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .notification-icon {
            position: relative;
            cursor: pointer;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: var(--gray-light);
            color: var(--gray-dark);
            transition: var(--transition);
        }

        .notification-icon:hover {
            background: var(--primary-light);
            color: var(--primary);
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 16px;
            background: var(--gray-light);
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .user-profile:hover {
            background: var(--primary-light);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            font-weight: 600;
        }

        .user-details h4 {
            font-size: 14px;
            color: var(--dark);
            margin-bottom: 2px;
        }

        .user-details span {
            font-size: 12px;
            color: var(--gray);
        }

        /* Main Layout */
        .main-layout {
            display: flex;
            min-height: calc(100vh - 70px);
        }

        /* Sidebar Redesign */
        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid var(--border);
            padding: 24px 0;
            overflow-y: auto;
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            transition: var(--transition);
        }

        .sidebar-nav {
            list-style: none;
            padding: 0 16px;
        }

        .nav-item {
            margin-bottom: 4px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            color: var(--dark);
            text-decoration: none;
            border-radius: var(--radius-sm);
            transition: var(--transition);
            font-weight: 500;
            font-size: 14px;
        }

        .nav-link:hover {
            background: var(--primary-light);
            color: var(--primary);
        }

        .nav-link.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: var(--shadow);
        }

        .nav-link i {
            font-size: 16px;
            width: 20px;
        }

        .nav-badge {
            margin-left: auto;
            background: var(--danger);
            color: white;
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 10px;
        }

        .sidebar-stats {
            margin: 24px 16px 0;
            padding: 20px;
            background: var(--gray-light);
            border-radius: var(--radius);
            border-left: 4px solid var(--primary);
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .stat-item:last-child {
            margin-bottom: 0;
        }

        .stat-label {
            font-size: 13px;
            color: var(--gray);
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .content-section {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Dashboard Section Redesign */
        .dashboard-header {
            margin-bottom: 30px;
        }

        .dashboard-header h1 {
            color: var(--dark);
            font-size: 28px;
            margin-bottom: 8px;
        }

        .dashboard-header p {
            color: var(--gray);
            font-size: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            border-top: 4px solid var(--primary);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card.present { border-top-color: var(--secondary); }
        .stat-card.absent { border-top-color: var(--danger); }
        .stat-card.employees { border-top-color: var(--info); }
        .stat-card.leaves { border-top-color: var(--warning); }

        .stat-icon {
            width: 54px;
            height: 54px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            font-size: 22px;
            color: white;
        }

        .stat-card.present .stat-icon { background: var(--secondary); }
        .stat-card.absent .stat-icon { background: var(--danger); }
        .stat-card.employees .stat-icon { background: var(--info); }
        .stat-card.leaves .stat-icon { background: var(--warning); }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--dark);
        }

        .stat-label {
            font-size: 13px;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-change {
            font-size: 12px;
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-change.positive { color: var(--secondary); }
        .stat-change.negative { color: var(--danger); }

        /* Quick Actions */
        .quick-actions {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
        }

        .section-title {
            color: var(--dark);
            margin-bottom: 24px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .action-card {
            background: white;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .action-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .action-card i {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 16px;
        }

        .action-card h3 {
            color: var(--dark);
            font-size: 16px;
            margin-bottom: 8px;
        }

        .action-card p {
            color: var(--gray);
            font-size: 13px;
        }

        /* Charts Container */
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .chart-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
        }

        /* Recent Activity */
        .recent-activity {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .activity-list {
            list-style: none;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 0;
            border-bottom: 1px solid var(--border);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
        }

        .activity-icon.present { background: var(--secondary); }
        .activity-icon.absent { background: var(--danger); }
        .activity-icon.leave { background: var(--warning); }
        .activity-icon.new { background: var(--info); }

        .activity-content h4 {
            font-size: 14px;
            margin-bottom: 4px;
            color: var(--dark);
        }

        .activity-content p {
            font-size: 13px;
            color: var(--gray);
        }

        .activity-time {
            margin-left: auto;
            font-size: 12px;
            color: var(--gray);
        }

        /* Attendance Section Redesign */
        .attendance-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .section-header h2 {
            color: var(--dark);
            font-size: 24px;
        }

        .two-column-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        @media (max-width: 992px) {
            .two-column-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Form Card */
        .form-card {
            background: var(--gray-light);
            border-radius: var(--radius);
            padding: 24px;
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .location-info {
            background: var(--primary-light);
            padding: 20px;
            border-radius: var(--radius);
            margin-top: 20px;
            border-left: 4px solid var(--primary);
        }

        .location-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(67, 97, 238, 0.1);
        }

        .location-row:last-child {
            border-bottom: none;
        }

        /* Camera Section */
        .camera-section {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            border: 2px solid var(--border);
            box-shadow: var(--shadow);
        }

        .camera-preview {
            width: 100%;
            height: 250px;
            background: var(--gray-light);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            overflow: hidden;
            border: 2px dashed var(--border);
        }

        .camera-controls {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .btn-success { background: var(--secondary); color: white; }
        .btn-warning { background: var(--warning); color: var(--dark); }
        .btn-danger { background: var(--danger); color: white; }
        .btn-info { background: var(--info); color: white; }

        .btn-success:hover, .btn-warning:hover, .btn-danger:hover, .btn-info:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* Records Section */
        .records-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .filter-bar {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-box {
            position: relative;
            flex: 1;
            min-width: 250px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 16px 12px 42px;
            border: 2px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 14px;
        }

        .search-box i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .table-container {
            overflow-x: auto;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            margin-bottom: 30px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 900px;
        }

        .data-table th {
            background: var(--gray-light);
            padding: 16px;
            text-align: left;
            font-weight: 600;
            color: var(--dark);
            border-bottom: 2px solid var(--border);
        }

        .data-table td {
            padding: 16px;
            border-bottom: 1px solid var(--border);
            color: var(--dark);
        }

        .data-table tr:hover {
            background: var(--primary-light);
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .status-present { background: rgba(6, 214, 160, 0.1); color: var(--secondary); }
        .status-absent { background: rgba(239, 71, 111, 0.1); color: var(--danger); }
        .status-pending { background: rgba(255, 209, 102, 0.1); color: #e6a400; }
        .status-approved { background: rgba(6, 214, 160, 0.1); color: var(--secondary); }
        .status-rejected { background: rgba(239, 71, 111, 0.1); color: var(--danger); }

        /* Employees Section Redesign */
        .employees-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .employee-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }

        .employee-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .employee-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .employee-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            padding: 20px;
            color: white;
            text-align: center;
        }

        .employee-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: white;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 32px;
            font-weight: 600;
        }

        .employee-name {
            font-size: 18px;
            margin-bottom: 4px;
        }

        .employee-role {
            font-size: 14px;
            opacity: 0.9;
        }

        .employee-details {
            padding: 20px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }

        .detail-item:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: var(--gray);
            font-size: 13px;
        }

        .detail-value {
            color: var(--dark);
            font-weight: 500;
            font-size: 13px;
        }

        .employee-actions {
            padding: 16px 20px;
            background: var(--gray-light);
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            color: var(--gray);
            border: 1px solid var(--border);
        }

        .btn-icon:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Leave Management */
        .leave-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid var(--border);
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            font-size: 15px;
            font-weight: 500;
            color: var(--gray);
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }

        .tab-badge {
            background: var(--danger);
            color: white;
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 6px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Analytics Dashboard */
        .analytics-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 30px;
        }

        /* Reports Section */
        .reports-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .report-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .report-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            text-align: center;
            transition: var(--transition);
        }

        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .report-card i {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 16px;
        }

        .report-card h3 {
            color: var(--dark);
            margin-bottom: 12px;
            font-size: 18px;
        }

        .report-card p {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 20px;
        }

        /* Announcements Section */
        .announcements-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .announcement-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
            box-shadow: var(--shadow);
        }

        .announcement-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .announcement-title {
            color: var(--dark);
            font-size: 16px;
            font-weight: 600;
        }

        .announcement-date {
            color: var(--gray);
            font-size: 13px;
        }

        .announcement-content {
            color: var(--gray-dark);
            font-size: 14px;
            line-height: 1.6;
        }

        /* Help Center */
        .help-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .faq-section {
            margin-bottom: 40px;
        }

        .faq-item {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 12px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
        }

        .faq-item:hover {
            border-color: var(--primary);
        }

        .faq-question {
            color: var(--dark);
            font-weight: 600;
            font-size: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-answer {
            color: var(--gray-dark);
            font-size: 14px;
            margin-top: 12px;
            display: none;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        /* Profile Section */
        .profile-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-bottom: 30px;
            padding-bottom: 24px;
            border-bottom: 2px solid var(--border);
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 36px;
            font-weight: 600;
        }

        .profile-info h2 {
            color: var(--dark);
            margin-bottom: 8px;
        }

        .profile-info p {
            color: var(--gray);
            font-size: 14px;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .profile-stat {
            background: var(--gray-light);
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
        }

        .profile-stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .profile-stat-label {
            color: var(--gray);
            font-size: 13px;
        }

        .profile-form {
            background: var(--gray-light);
            border-radius: var(--radius);
            padding: 24px;
        }

        /* Modal Design */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }

        .modal {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border);
        }

        .modal-header h3 {
            color: var(--dark);
            font-size: 20px;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--gray);
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .close-modal:hover {
            background: var(--gray-light);
            color: var(--danger);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 24px;
            right: 24px;
            padding: 16px 24px;
            border-radius: var(--radius);
            color: white;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 3000;
            animation: slideIn 0.3s ease;
            box-shadow: var(--shadow);
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notification.success { background: var(--secondary); }
        .notification.error { background: var(--danger); }
        .notification.info { background: var(--info); }
        .notification.warning { background: var(--warning); color: var(--dark); }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .sidebar {
                width: 220px;
            }
        }

        @media (max-width: 992px) {
            .main-layout {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                padding: 0;
                border-right: none;
                border-bottom: 1px solid var(--border);
            }
            
            .sidebar-nav {
                display: flex;
                overflow-x: auto;
                padding: 0;
                gap: 0;
            }
            
            .nav-item {
                margin-bottom: 0;
                flex-shrink: 0;
            }
            
            .nav-link {
                padding: 16px 20px;
                white-space: nowrap;
                border-radius: 0;
            }
            
            .sidebar-stats {
                display: none;
            }
            
            .main-content {
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .app-header {
                padding: 0 16px;
            }
            
            .user-profile .user-details {
                display: none;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
                gap: 16px;
            }
            
            .actions-grid {
                grid-template-columns: 1fr 1fr;
                gap: 16px;
            }
            
            .employee-grid {
                grid-template-columns: 1fr;
            }
            
            .filter-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .camera-controls {
                flex-wrap: wrap;
            }
            
            .btn {
                flex: 1;
                min-width: 120px;
            }
        }

        @media (max-width: 576px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
            }
            
            .tab {
                white-space: nowrap;
            }
        }

        /* Progress Bars */
        .progress-container {
            margin: 20px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--dark);
        }

        .progress-bar {
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Calendar */
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-top: 20px;
        }

        .calendar-day {
            padding: 12px;
            text-align: center;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        .calendar-day:hover {
            background: var(--primary-light);
        }

        .calendar-day.present {
            background: rgba(6, 214, 160, 0.1);
            color: var(--secondary);
            border-color: var(--secondary);
        }

        .calendar-day.absent {
            background: rgba(239, 71, 111, 0.1);
            color: var(--danger);
            border-color: var(--danger);
        }

        .calendar-day.leave {
            background: rgba(255, 209, 102, 0.1);
            color: #e6a400;
            border-color: #ffd166;
        }

        /* Export Buttons */
        .export-buttons {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 30px;
        }

        .btn-export {
            background: white;
            color: var(--dark);
            border: 2px solid var(--border);
        }

        .btn-export:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Role Badges */
        .role-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .role-admin { background: rgba(239, 71, 111, 0.1); color: var(--danger); }
        .role-hr { background: rgba(6, 214, 160, 0.1); color: var(--secondary); }
        .role-employee { background: rgba(67, 97, 238, 0.1); color: var(--primary); }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 16px;
            color: var(--border);
        }

        .empty-state h3 {
            color: var(--gray);
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen">
        <div class="loader"></div>
        <div style="color: white; text-align: center; margin-top: 20px;">
            <h3 style="margin-bottom: 10px; font-size: 24px;">AI Smart Attendance System</h3>
            <p>Panchayati Raj Department, Bihar</p>
            <p style="margin-top: 10px; font-size: 14px; opacity: 0.8;">Loading modern interface...</p>
        </div>
    </div>

    <!-- Login Page -->
    <div id="loginPage">
        <div class="login-container">
            <div class="login-header">
                <div class="login-logo">
                    <i class="fas fa-landmark"></i>
                </div>
                <h1>AI Smart Attendance</h1>
                <p>Panchayati Raj Department, Bihar Government</p>
            </div>
            
            <div class="login-type-selector">
                <div class="login-type-buttons">
                    <button type="button" class="login-type-btn active" id="adminLoginBtn">
                        <i class="fas fa-user-shield"></i> Admin Login
                    </button>
                    <button type="button" class="login-type-btn" id="hrLoginBtn">
                        <i class="fas fa-users"></i> HR Login
                    </button>
                    <button type="button" class="login-type-btn" id="employeeLoginBtn">
                        <i class="fas fa-user"></i> Employee Login
                    </button>
                </div>
            </div>
            
            <div class="login-form">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label" for="username"><i class="fas fa-user"></i> User ID</label>
                        <input type="text" id="username" class="form-control" placeholder="Enter your user ID" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="password"><i class="fas fa-lock"></i> Password</label>
                        <input type="password" id="password" class="form-control" placeholder="Enter your password" required>
                    </div>
                    
                    <div class="form-group" style="display: flex; justify-content: space-between; align-items: center;">
                        <a href="#" id="forgotPasswordLink" style="color: var(--primary); font-size: 14px; text-decoration: none;">
                            <i class="fas fa-key"></i> Forgot Password?
                        </a>
                        <div class="form-check">
                            <input type="checkbox" id="rememberMe" style="margin-right: 5px;">
                            <label for="rememberMe" style="font-size: 14px; color: var(--gray);">Remember me</label>
                        </div>
                    </div>
                    
                    <input type="hidden" id="loginType" value="admin">
                    
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-sign-in-alt"></i> Login to Dashboard
                    </button>
                    
                    <div class="demo-credentials">
                        <h4><i class="fas fa-info-circle"></i> Contact for Login ID & Password</h4>
                        <p><strong>Mobile:</strong> 7004863268</p>
                        <p><strong>Email:</strong> support@panchayat-bihar.gov.in</p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Admin Application -->
    <div id="mainApp">
        <!-- Header -->
        <header class="app-header">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-landmark"></i>
                </div>
                <div class="logo-text">
                    <h2>AI Smart Attendance</h2>
                    <p>Panchayati Raj Department, Sheikhpura</p>
                </div>
            </div>
            
            <div class="user-section">
                <div class="notification-icon" id="notificationBell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">3</span>
                </div>
                <div class="user-profile" id="userProfileDropdown">
                    <div class="user-avatar">
                        <span id="userInitials">A</span>
                    </div>
                    <div class="user-details">
                        <h4 id="currentUserName">Administrator</h4>
                        <span id="currentUserRole">System Admin</span>
                    </div>
                    <i class="fas fa-chevron-down" style="font-size: 12px;"></i>
                </div>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Sidebar -->
            <nav class="sidebar">
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <a href="#dashboard" class="nav-link active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#attendance" class="nav-link" data-section="attendance">
                            <i class="fas fa-camera"></i>
                            <span>Mark Attendance</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#employees" class="nav-link" data-section="employees">
                            <i class="fas fa-users"></i>
                            <span>Employee Directory</span>
                            <span class="nav-badge" id="employeeCountBadge">61</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#records" class="nav-link" data-section="records">
                            <i class="fas fa-history"></i>
                            <span>Attendance Records</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#leaves" class="nav-link" data-section="leaves">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Leave Management</span>
                            <span class="nav-badge" id="leaveCountBadge">5</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#analytics" class="nav-link" data-section="analytics">
                            <i class="fas fa-chart-line"></i>
                            <span>Analytics</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#reports" class="nav-link" data-section="reports">
                            <i class="fas fa-file-export"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#announcements" class="nav-link" data-section="announcements">
                            <i class="fas fa-bullhorn"></i>
                            <span>Announcements</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#help" class="nav-link" data-section="help">
                            <i class="fas fa-question-circle"></i>
                            <span>Help Center</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#settings" class="nav-link" data-section="settings">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
                
                <div class="sidebar-stats">
                    <div class="stat-item">
                        <span class="stat-label">Today's Attendance</span>
                        <span class="stat-value" id="sidebarAttendanceCount">85%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Employees</span>
                        <span class="stat-value" id="sidebarEmployeeCount">61</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Present Today</span>
                        <span class="stat-value" id="sidebarPresentCount">52</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Pending Leaves</span>
                        <span class="stat-value" id="sidebarPendingLeaves">5</span>
                    </div>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Section -->
                <section id="dashboardSection" class="content-section active">
                    <div class="dashboard-header">
                        <h1>Welcome back, Administrator</h1>
                        <p>Here's what's happening with your attendance system today</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card present">
                            <div class="stat-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="stat-value" id="todayPresent">52</div>
                            <div class="stat-label">Present Today</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>12% from yesterday</span>
                            </div>
                        </div>
                        
                        <div class="stat-card absent">
                            <div class="stat-icon">
                                <i class="fas fa-user-times"></i>
                            </div>
                            <div class="stat-value" id="todayAbsent">9</div>
                            <div class="stat-label">Absent Today</div>
                            <div class="stat-change negative">
                                <i class="fas fa-arrow-down"></i>
                                <span>5% from yesterday</span>
                            </div>
                        </div>
                        
                        <div class="stat-card employees">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-value" id="totalEmployeesDash">61</div>
                            <div class="stat-label">Total Employees</div>
                            <div class="stat-change positive">
                                <i class="fas fa-plus"></i>
                                <span>Added 5 this month</span>
                            </div>
                        </div>
                        
                        <div class="stat-card leaves">
                            <div class="stat-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="stat-value" id="pendingLeavesDash">5</div>
                            <div class="stat-label">Pending Leaves</div>
                            <div class="stat-change positive">
                                <i class="fas fa-clock"></i>
                                <span>2 need approval</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="charts-container">
                        <div class="chart-card">
                            <h3 class="section-title"><i class="fas fa-chart-line"></i> Attendance Trend</h3>
                            <canvas id="attendanceTrendChart"></canvas>
                        </div>
                        
                        <div class="chart-card">
                            <h3 class="section-title"><i class="fas fa-chart-pie"></i> Department Distribution</h3>
                            <canvas id="departmentChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <h3 class="section-title"><i class="fas fa-bolt"></i> Quick Actions</h3>
                        <div class="actions-grid">
                            <div class="action-card" id="quickMarkAttendance">
                                <i class="fas fa-camera"></i>
                                <h3>Mark Attendance</h3>
                                <p>Mark attendance for employees</p>
                            </div>
                            
                            <div class="action-card" id="quickAddEmployee">
                                <i class="fas fa-user-plus"></i>
                                <h3>Add Employee</h3>
                                <p>Register new employee</p>
                            </div>
                            
                            <div class="action-card" id="quickViewRecords">
                                <i class="fas fa-history"></i>
                                <h3>View Records</h3>
                                <p>Check today's attendance</p>
                            </div>
                            
                            <div class="action-card" id="quickManageLeaves">
                                <i class="fas fa-calendar-check"></i>
                                <h3>Manage Leaves</h3>
                                <p>Approve/reject leave requests</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recent-activity">
                        <h3 class="section-title"><i class="fas fa-clock"></i> Recent Activity</h3>
                        <ul class="activity-list" id="recentActivityList">
                            <li class="activity-item">
                                <div class="activity-icon present">
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>AMAN KUMAR marked attendance</h4>
                                    <p>BLOCK OFFICE, BARBIGHA - 9:15 AM</p>
                                </div>
                                <div class="activity-time">10 min ago</div>
                            </li>
                            <li class="activity-item">
                                <div class="activity-icon new">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>New employee registered</h4>
                                    <p>RAHUL KUMAR - DATA ENTRY OPERATOR</p>
                                </div>
                                <div class="activity-time">1 hour ago</div>
                            </li>
                            <li class="activity-item">
                                <div class="activity-icon leave">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>Leave application submitted</h4>
                                    <p>EKTA SINGH - Casual Leave (3 days)</p>
                                </div>
                                <div class="activity-time">2 hours ago</div>
                            </li>
                            <li class="activity-item">
                                <div class="activity-icon absent">
                                    <i class="fas fa-user-times"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>Late attendance marked</h4>
                                    <p>JULI KUMARI - 10:30 AM arrival</p>
                                </div>
                                <div class="activity-time">3 hours ago</div>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- Mark Attendance Section -->
                <section id="attendanceSection" class="content-section">
                    <div class="attendance-container">
                        <div class="section-header">
                            <h2><i class="fas fa-camera"></i> Mark Attendance</h2>
                            <div class="current-time" id="currentTime"></div>
                        </div>
                        
                        <div class="two-column-layout">
                            <div class="form-card">
                                <div class="form-group">
                                    <label class="form-label" for="attendanceEmployee">Select Employee</label>
                                    <select id="attendanceEmployee" class="form-control">
                                        <option value="">-- Select Employee --</option>
                                        <!-- Options will be populated by JavaScript -->
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="attendanceDepartment">Department</label>
                                    <input type="text" id="attendanceDepartment" class="form-control" readonly>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="attendanceDesignation">Designation</label>
                                    <input type="text" id="attendanceDesignation" class="form-control" readonly>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="attendanceOffice">Office Name</label>
                                    <input type="text" id="attendanceOffice" class="form-control" readonly>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="attendanceRemarks">Remarks (Optional)</label>
                                    <textarea id="attendanceRemarks" class="form-control" rows="3" placeholder="Enter any remarks"></textarea>
                                </div>
                                
                                <div class="location-info">
                                    <h4><i class="fas fa-map-marker-alt"></i> Location Information</h4>
                                    <div class="location-row">
                                        <span>Coordinates:</span>
                                        <span id="locationCoordinates">Fetching...</span>
                                    </div>
                                    <div class="location-row">
                                        <span>IP Address:</span>
                                        <span id="ipAddress">Fetching...</span>
                                    </div>
                                    <div class="location-row">
                                        <span>Photo Time:</span>
                                        <span id="photoCaptureTime">Not captured</span>
                                    </div>
                                    <div class="location-row">
                                        <span>Geofence Status:</span>
                                        <span id="geofenceStatusText" style="color: green;">Checking...</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="camera-section">
                                <h3><i class="fas fa-camera"></i> Camera Preview</h3>
                                <div class="camera-preview" id="cameraPreview">
                                    <i class="fas fa-camera"></i>
                                    <p style="margin-top: 10px; color: var(--gray);">Camera preview will appear here</p>
                                </div>
                                
                                <div class="camera-controls">
                                    <button class="btn btn-success" id="startCameraBtn">
                                        <i class="fas fa-video"></i> Start Camera
                                    </button>
                                    <button class="btn btn-warning" id="capturePhotoBtn" disabled>
                                        <i class="fas fa-camera-retro"></i> Capture
                                    </button>
                                    <button class="btn btn-danger" id="stopCameraBtn" disabled>
                                        <i class="fas fa-stop"></i> Stop
                                    </button>
                                </div>
                                
                                <div style="margin-top: 20px; display: flex; gap: 12px;">
                                    <button class="btn btn-primary" id="markAttendanceBtn" disabled style="flex: 1;">
                                        <i class="fas fa-check-circle"></i> Mark Attendance
                                    </button>
                                    <button class="btn btn-info" id="markManualBtn" style="flex: 1;">
                                        <i class="fas fa-user-edit"></i> Manual Entry
                                    </button>
                                </div>
                                
                                <div style="margin-top: 20px; padding: 16px; background: var(--gray-light); border-radius: var(--radius);">
                                    <h4 style="color: var(--primary); font-size: 14px; margin-bottom: 8px;">
                                        <i class="fas fa-info-circle"></i> Instructions
                                    </h4>
                                    <ol style="font-size: 13px; color: var(--gray); padding-left: 20px;">
                                        <li>Select employee from dropdown</li>
                                        <li>Start camera and capture photo</li>
                                        <li>Verify location information</li>
                                        <li>Click "Mark Attendance"</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Employee Directory Section -->
                <section id="employeesSection" class="content-section">
                    <div class="employees-container">
                        <div class="section-header">
                            <h2><i class="fas fa-users"></i> Employee Directory</h2>
                            <div style="display: flex; gap: 12px;">
                                <button class="btn btn-primary" id="addEmployeeBtn">
                                    <i class="fas fa-user-plus"></i> Add Employee
                                </button>
                                <button class="btn btn-export" id="exportEmployeeBtn">
                                    <i class="fas fa-download"></i> Export
                                </button>
                            </div>
                        </div>
                        
                        <div class="filter-bar">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="employeeSearch" placeholder="Search employees by name, ID, or department...">
                            </div>
                            <select id="filterDepartment" class="form-control" style="width: 180px;">
                                <option value="">All Departments</option>
                                <option value="  ">Panchayati Raj Department</option>
                            </select>
                            <select id="filterOffice" class="form-control" style="width: 180px;">
                                <option value="">All Offices</option>
                                <option value="BLOCK OFFICE ARIARI">BLOCK OFFICE ARIARI</option>
                                <option value="BLOCK OFFICE BARBIGHA">BLOCK OFFICE BARBIGHA</option>
                                <option value="BLOCK OFFICE CHEWARA">BLOCK OFFICE CHEWARA</option>
                                <option value="BLOCK OFFICE GHAT KUSUMBHA">BLOCK OFFICE GHAT KUSUMBHA</option>
                                <option value="BLOCK OFFICE SHEIKHOPUR SARAI">BLOCK OFFICE SHEIKHOPUR SARAI</option>
                                <option value="BLOCK OFFICE SHEIKHPURA SADAR">BLOCK OFFICE SHEIKHPURA SADAR</option>
                            </select>
                            <select id="filterStatus" class="form-control" style="width: 150px;">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        
                        <div class="employee-grid" id="employeeGrid">
                            <!-- Employee cards will be populated by JavaScript -->
                        </div>
                        
                        <div class="employee-stats" style="margin-top: 30px; padding: 20px; background: var(--gray-light); border-radius: var(--radius);">
                            <div style="display: flex; gap: 30px; flex-wrap: wrap;">
                                <div>
                                    <div class="stat-label">Total Employees</div>
                                    <div class="stat-value" style="font-size: 24px;">61</div>
                                </div>
                                <div>
                                    <div class="stat-label">Active</div>
                                    <div class="stat-value" style="font-size: 24px; color: var(--secondary);">58</div>
                                </div>
                                <div>
                                    <div class="stat-label">Inactive</div>
                                    <div class="stat-value" style="font-size: 24px; color: var(--danger);">3</div>
                                </div>
                                <div>
                                    <div class="stat-label">New This Month</div>
                                    <div class="stat-value" style="font-size: 24px; color: var(--info);">5</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Attendance Records Section -->
                <section id="recordsSection" class="content-section">
                    <div class="records-container">
                        <div class="section-header">
                            <h2><i class="fas fa-history"></i> Attendance Records</h2>
                            <div style="display: flex; gap: 12px;">
                                <button class="btn btn-primary" id="refreshRecordsBtn">
                                    <i class="fas fa-sync-alt"></i> Refresh
                                </button>
                            </div>
                        </div>
                        
                        <div class="filter-bar">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="recordSearch" placeholder="Search records...">
                            </div>
                            <input type="date" id="filterDate" class="form-control" style="width: 160px;">
                            <select id="filterRecordEmployee" class="form-control" style="width: 180px;">
                                <option value="">All Employees</option>
                                <!-- Options will be populated by JavaScript -->
                            </select>
                            <select id="filterRecordStatus" class="form-control" style="width: 150px;">
                                <option value="">All Status</option>
                                <option value="present">Present</option>
                                <option value="absent">Absent</option>
                                <option value="late">Late</option>
                            </select>
                        </div>
                        
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Employee</th>
                                        <th>Department</th>
                                        <th>Office</th>
                                        <th>In Time</th>
                                        <th>Status</th>
                                        <th>Location</th>
                                        <th>Method</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="recordsTableBody">
                                    <!-- Records will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="export-buttons">
                            <button class="btn btn-export" id="exportRecordsExcel">
                                <i class="fas fa-file-excel"></i> Export Excel
                            </button>
                            <button class="btn btn-export" id="exportRecordsPDF">
                                <i class="fas fa-file-pdf"></i> Export PDF
                            </button>
                            <button class="btn btn-export" id="exportRecordsCSV">
                                <i class="fas fa-file-csv"></i> Export CSV
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Leave Management Section -->
                <section id="leavesSection" class="content-section">
                    <div class="leave-container">
                        <div class="section-header">
                            <h2><i class="fas fa-calendar-alt"></i> Leave Management</h2>
                            <button class="btn btn-primary" id="addLeaveBtn">
                                <i class="fas fa-plus"></i> Add Leave
                            </button>
                        </div>
                        
                        <div class="tabs">
                            <button class="tab active" data-tab="pending">
                                Pending Leaves
                                <span class="tab-badge">5</span>
                            </button>
                            <button class="tab" data-tab="approved">
                                Approved Leaves
                            </button>
                            <button class="tab" data-tab="rejected">
                                Rejected Leaves
                            </button>
                            <button class="tab" data-tab="all">
                                All Leaves
                            </button>
                        </div>
                        
                        <div id="pendingTab" class="tab-content active">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Employee</th>
                                            <th>Leave Type</th>
                                            <th>From Date</th>
                                            <th>To Date</th>
                                            <th>Days</th>
                                            <th>Reason</th>
                                            <th>Applied On</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="pendingLeavesTableBody">
                                        <!-- Pending leaves will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div id="approvedTab" class="tab-content">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Employee</th>
                                            <th>Leave Type</th>
                                            <th>From Date</th>
                                            <th>To Date</th>
                                            <th>Days</th>
                                            <th>Approved By</th>
                                            <th>Approved On</th>
                                        </tr>
                                    </thead>
                                    <tbody id="approvedLeavesTableBody">
                                        <!-- Approved leaves will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div id="rejectedTab" class="tab-content">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Employee</th>
                                            <th>Leave Type</th>
                                            <th>From Date</th>
                                            <th>To Date</th>
                                            <th>Days</th>
                                            <th>Reason</th>
                                            <th>Rejected On</th>
                                        </tr>
                                    </thead>
                                    <tbody id="rejectedLeavesTableBody">
                                        <!-- Rejected leaves will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div id="allTab" class="tab-content">
                            <div class="filter-bar" style="margin-bottom: 20px;">
                                <input type="date" id="filterLeaveDate" class="form-control" style="width: 160px;">
                                <select id="filterLeaveEmployee" class="form-control" style="width: 180px;">
                                    <option value="">All Employees</option>
                                    <!-- Options will be populated by JavaScript -->
                                </select>
                                <select id="filterLeaveStatus" class="form-control" style="width: 150px;">
                                    <option value="">All Status</option>
                                    <option value="pending">Pending</option>
                                    <option value="approved">Approved</option>
                                    <option value="rejected">Rejected</option>
                                </select>
                            </div>
                            
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Employee</th>
                                            <th>Leave Type</th>
                                            <th>From Date</th>
                                            <th>To Date</th>
                                            <th>Days</th>
                                            <th>Status</th>
                                            <th>Applied On</th>
                                        </tr>
                                    </thead>
                                    <tbody id="allLeavesTableBody">
                                        <!-- All leaves will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section id="analyticsSection" class="content-section">
                    <div class="analytics-container">
                        <div class="section-header">
                            <h2><i class="fas fa-chart-line"></i> Attendance Analytics</h2>
                            <div style="display: flex; gap: 12px;">
                                <select id="analyticsPeriod" class="form-control" style="width: 150px;">
                                    <option value="week">This Week</option>
                                    <option value="month" selected>This Month</option>
                                    <option value="quarter">This Quarter</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="analytics-grid">
                            <div class="chart-card">
                                <h3 class="section-title"><i class="fas fa-chart-bar"></i> Daily Attendance</h3>
                                <canvas id="dailyAttendanceChart"></canvas>
                            </div>
                            
                            <div class="chart-card">
                                <h3 class="section-title"><i class="fas fa-chart-pie"></i> Attendance Ratio</h3>
                                <canvas id="attendanceRatioChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-card" style="margin-top: 24px;">
                            <h3 class="section-title"><i class="fas fa-chart-area"></i> Monthly Trends</h3>
                            <canvas id="monthlyTrendsChart"></canvas>
                        </div>
                        
                        <div class="quick-actions" style="margin-top: 30px;">
                            <h3 class="section-title"><i class="fas fa-chart-network"></i> Key Metrics</h3>
                            <div class="actions-grid">
                                <div class="action-card">
                                    <i class="fas fa-percentage"></i>
                                    <h3>Average Attendance</h3>
                                    <p id="avgAttendanceMetric">85%</p>
                                </div>
                                
                                <div class="action-card">
                                    <i class="fas fa-clock"></i>
                                    <h3>Avg. Arrival Time</h3>
                                    <p id="avgArrivalMetric">9:15 AM</p>
                                </div>
                                
                                <div class="action-card">
                                    <i class="fas fa-user-clock"></i>
                                    <h3>Late Arrivals</h3>
                                    <p id="lateArrivalsMetric">12%</p>
                                </div>
                                
                                <div class="action-card">
                                    <i class="fas fa-calendar-times"></i>
                                    <h3>Absenteeism Rate</h3>
                                    <p id="absenteeismMetric">8%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Reports Section -->
                <section id="reportsSection" class="content-section">
                    <div class="reports-container">
                        <div class="section-header">
                            <h2><i class="fas fa-file-export"></i> Reports & Exports</h2>
                            <p style="color: var(--gray); font-size: 14px;">Generate and download detailed reports</p>
                        </div>
                        
                        <div class="report-cards">
                            <div class="report-card">
                                <i class="fas fa-calendar-day"></i>
                                <h3>Daily Attendance Report</h3>
                                <p>Detailed attendance report for any selected date</p>
                                <button class="btn btn-primary" id="generateDailyReport">
                                    <i class="fas fa-download"></i> Generate
                                </button>
                            </div>
                            
                            <div class="report-card">
                                <i class="fas fa-calendar-alt"></i>
                                <h3>Monthly Summary</h3>
                                <p>Monthly attendance summary and analysis</p>
                                <button class="btn btn-primary" id="generateMonthlyReport">
                                    <i class="fas fa-download"></i> Generate
                                </button>
                            </div>
                            
                            <div class="report-card">
                                <i class="fas fa-building"></i>
                                <h3>Department Report</h3>
                                <p>Department-wise attendance analysis</p>
                                <button class="btn btn-primary" id="generateDeptReport">
                                    <i class="fas fa-download"></i> Generate
                                </button>
                            </div>
                            
                            <div class="report-card">
                                <i class="fas fa-calendar-check"></i>
                                <h3>Leave Utilization</h3>
                                <p>Leave usage and balance report</p>
                                <button class="btn btn-primary" id="generateLeaveReport">
                                    <i class="fas fa-download"></i> Generate
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-card" style="margin-top: 30px;">
                            <h3 class="section-title"><i class="fas fa-cogs"></i> Custom Report Generator</h3>
                            <div class="two-column-layout">
                                <div>
                                    <div class="form-group">
                                        <label class="form-label">Report Type</label>
                                        <select class="form-control" id="customReportType">
                                            <option value="attendance">Attendance Report</option>
                                            <option value="leave">Leave Report</option>
                                            <option value="employee">Employee Report</option>
                                            <option value="summary">Summary Report</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Date Range</label>
                                        <div style="display: flex; gap: 12px;">
                                            <input type="date" class="form-control" id="reportFromDate">
                                            <input type="date" class="form-control" id="reportToDate">
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="form-group">
                                        <label class="form-label">Format</label>
                                        <div style="display: flex; gap: 12px;">
                                            <label class="form-check">
                                                <input type="radio" name="reportFormat" value="pdf" checked>
                                                <span>PDF</span>
                                            </label>
                                            <label class="form-check">
                                                <input type="radio" name="reportFormat" value="excel">
                                                <span>Excel</span>
                                            </label>
                                            <label class="form-check">
                                                <input type="radio" name="reportFormat" value="csv">
                                                <span>CSV</span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Include Details</label>
                                        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                                            <label class="form-check">
                                                <input type="checkbox" name="reportDetails" value="summary" checked>
                                                <span>Summary</span>
                                            </label>
                                            <label class="form-check">
                                                <input type="checkbox" name="reportDetails" value="charts" checked>
                                                <span>Charts</span>
                                            </label>
                                            <label class="form-check">
                                                <input type="checkbox" name="reportDetails" value="details">
                                                <span>Detailed Data</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="btn btn-primary btn-block" id="generateCustomReport" style="margin-top: 20px;">
                                <i class="fas fa-file-download"></i> Generate Custom Report
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Announcements Section -->
                <section id="announcementsSection" class="content-section">
                    <div class="announcements-container">
                        <div class="section-header">
                            <h2><i class="fas fa-bullhorn"></i> Announcements</h2>
                            <button class="btn btn-primary" id="addAnnouncementBtn">
                                <i class="fas fa-plus"></i> New Announcement
                            </button>
                        </div>
                        
                        <div class="announcement-card">
                            <div class="announcement-header">
                                <div class="announcement-title">System Maintenance Schedule</div>
                                <div class="announcement-date">Dec 15, 2024</div>
                            </div>
                            <div class="announcement-content">
                                Please be informed that the AI Attendance System will undergo scheduled maintenance on December 20th, 2024 from 10:00 PM to 2:00 AM. During this period, the system will be temporarily unavailable.
                            </div>
                        </div>
                        
                        <div class="announcement-card">
                            <div class="announcement-header">
                                <div class="announcement-title">New Feature: Biometric Integration</div>
                                <div class="announcement-date">Dec 10, 2024</div>
                            </div>
                            <div class="announcement-content">
                                We are excited to announce the integration of biometric authentication for attendance marking. Employees can now use fingerprint recognition as an alternative method for marking attendance.
                            </div>
                        </div>
                        
                        <div class="announcement-card">
                            <div class="announcement-header">
                                <div class="announcement-title">Holiday Schedule - December 2024</div>
                                <div class="announcement-date">Dec 1, 2024</div>
                            </div>
                            <div class="announcement-content">
                                Office will remain closed on December 25th for Christmas. All employees are requested to plan their work and leaves accordingly. For urgent matters, contact the admin office.
                            </div>
                        </div>
                        
                        <div class="announcement-card">
                            <div class="announcement-header">
                                <div class="announcement-title">Training Session: New System Features</div>
                                <div class="announcement-date">Nov 28, 2024</div>
                            </div>
                            <div class="announcement-content">
                                A training session will be conducted on December 5th to demonstrate the new features of the AI Attendance System. Attendance is mandatory for all employees. Session details will be shared separately.
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Help Center Section -->
                <section id="helpSection" class="content-section">
                    <div class="help-container">
                        <div class="section-header">
                            <h2><i class="fas fa-question-circle"></i> Help & Support Center</h2>
                            <button class="btn btn-primary" id="submitTicketBtn">
                                <i class="fas fa-ticket-alt"></i> Submit Ticket
                            </button>
                        </div>
                        
                        <div class="two-column-layout">
                            <div>
                                <div class="faq-section">
                                    <h3 class="section-title"><i class="fas fa-question"></i> Frequently Asked Questions</h3>
                                    
                                    <div class="faq-item">
                                        <div class="faq-question">
                                            How do I mark attendance?
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                        <div class="faq-answer">
                                            Go to "Mark Attendance" section, select your name, allow camera access, capture photo, and click "Mark Attendance". Ensure you are within the office premises.
                                        </div>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <div class="faq-question">
                                            What if I forget to mark attendance?
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                        <div class="faq-answer">
                                            Contact your supervisor or HR to manually mark your attendance. You can also use the "Manual Entry" option if available for your role.
                                        </div>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <div class="faq-question">
                                            How do I apply for leave?
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                        <div class="faq-answer">
                                            Navigate to "Leave Management" section, click "Apply for Leave", fill in the required details, and submit. Your supervisor will review and approve/reject.
                                        </div>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <div class="faq-question">
                                            Camera is not working, what should I do?
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                        <div class="faq-answer">
                                            Check camera permissions in browser settings. If issue persists, try using a different browser or contact IT support at support@panchayat-bihar.gov.in
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="form-card">
                                    <h3 class="section-title"><i class="fas fa-headset"></i> Contact Support</h3>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Subject</label>
                                        <input type="text" class="form-control" id="supportSubject" placeholder="Brief description of your issue">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Category</label>
                                        <select class="form-control" id="supportCategory">
                                            <option value="">Select category</option>
                                            <option value="attendance">Attendance Issues</option>
                                            <option value="login">Login Problems</option>
                                            <option value="technical">Technical Support</option>
                                            <option value="leave">Leave Management</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Description</label>
                                        <textarea class="form-control" id="supportDescription" rows="4" placeholder="Please describe your issue in detail..."></textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Attachments (Optional)</label>
                                        <input type="file" class="form-control" id="supportAttachment" multiple>
                                        <small style="color: var(--gray); font-size: 12px;">Max file size: 5MB each</small>
                                    </div>
                                    
                                    <button class="btn btn-primary btn-block" id="submitSupportRequest">
                                        <i class="fas fa-paper-plane"></i> Submit Support Request
                                    </button>
                                </div>
                                
                                <div style="margin-top: 24px; padding: 20px; background: var(--primary-light); border-radius: var(--radius);">
                                    <h4 style="color: var(--primary); margin-bottom: 12px;">
                                        <i class="fas fa-phone-alt"></i> Emergency Contacts
                                    </h4>
                                    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                                        <div>
                                            <div style="font-size: 12px; color: var(--gray);">IT Support</div>
                                            <div style="font-weight: 600;">7004863268</div>
                                        </div>
                                        <div>
                                            <div style="font-size: 12px; color: var(--gray);">HR Department</div>
                                            <div style="font-weight: 600;">0612-XXXXXX</div>
                                        </div>
                                        <div>
                                            <div style="font-size: 12px; color: var(--gray);">Email</div>
                                            <div style="font-weight: 600;">support@panchayat-bihar.gov.in</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settingsSection" class="content-section">
                    <div class="profile-container">
                        <div class="section-header">
                            <h2><i class="fas fa-cog"></i> System Settings</h2>
                            <p style="color: var(--gray); font-size: 14px;">Configure system preferences and security</p>
                        </div>
                        
                        <div class="tabs">
                            <button class="tab active" data-tab="profile">Profile Settings</button>
                            <button class="tab" data-tab="security">Security</button>
                            <button class="tab" data-tab="system">System Settings</button>
                            <button class="tab" data-tab="notifications">Notifications</button>
                        </div>
                        
                        <div id="profileTab" class="tab-content active">
                            <div class="profile-header">
                                <div class="profile-avatar">
                                    <span>A</span>
                                </div>
                                <div class="profile-info">
                                    <h2>Administrator</h2>
                                    <p>System Administrator  admin@panchayat-bihar.gov.in</p>
                                    <p style="margin-top: 8px; font-size: 14px;">Last login: Today at 9:15 AM</p>
                                </div>
                                <button class="btn" id="changeAvatarBtn">
                                    <i class="fas fa-camera"></i> Change Photo
                                </button>
                            </div>
                            
                            <div class="profile-form">
                                <div class="two-column-layout">
                                    <div>
                                        <div class="form-group">
                                            <label class="form-label">Full Name</label>
                                            <input type="text" class="form-control" value="Administrator">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Email Address</label>
                                            <input type="email" class="form-control" value="admin@panchayat-bihar.gov.in">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Phone Number</label>
                                            <input type="tel" class="form-control" value="+91 7004863268">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <div class="form-group">
                                            <label class="form-label">Designation</label>
                                            <input type="text" class="form-control" value="System Administrator" readonly>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Department</label>
                                            <input type="text" class="form-control" value="Panchayati Raj Department" readonly>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Office</label>
                                            <input type="text" class="form-control" value="Sheikhpura Panchayat Office" readonly>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary" style="margin-top: 20px;">
                                    <i class="fas fa-save"></i> Save Changes
                                </button>
                            </div>
                        </div>
                        
                        <div id="securityTab" class="tab-content">
                            <div class="profile-form">
                                <h3 class="section-title"><i class="fas fa-shield-alt"></i> Security Settings</h3>
                                
                                <div class="form-group">
                                    <label class="form-label">Current Password</label>
                                    <input type="password" class="form-control" id="currentPassword">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">New Password</label>
                                    <input type="password" class="form-control" id="newPassword">
                                    <small style="color: var(--gray); font-size: 12px;">Minimum 8 characters with letters and numbers</small>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Confirm New Password</label>
                                    <input type="password" class="form-control" id="confirmPassword">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-check">
                                        <input type="checkbox" id="enable2FA">
                                        <span>Enable Two-Factor Authentication</span>
                                    </label>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-check">
                                        <input type="checkbox" id="requireReauth" checked>
                                        <span>Require re-authentication for sensitive actions</span>
                                    </label>
                                </div>
                                
                                <button class="btn btn-primary" id="updateSecurityBtn">
                                    <i class="fas fa-save"></i> Update Security Settings
                                </button>
                                
                                <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid var(--border);">
                                    <h3 class="section-title"><i class="fas fa-history"></i> Login History</h3>
                                    <div class="table-container">
                                        <table class="data-table">
                                            <thead>
                                                <tr>
                                                    <th>Date & Time</th>
                                                    <th>IP Address</th>
                                                    <th>Device</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Today, 9:15 AM</td>
                                                    <td>192.168.1.105</td>
                                                    <td>Chrome on Windows</td>
                                                    <td><span class="status-badge status-present">Success</span></td>
                                                </tr>
                                                <tr>
                                                    <td>Yesterday, 10:30 AM</td>
                                                    <td>192.168.1.105</td>
                                                    <td>Chrome on Windows</td>
                                                    <td><span class="status-badge status-present">Success</span></td>
                                                </tr>
                                                <tr>
                                                    <td>Dec 12, 9:45 AM</td>
                                                    <td>203.0.113.25</td>
                                                    <td>Mobile Browser</td>
                                                    <td><span class="status-badge status-present">Success</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="systemTab" class="tab-content">
                            <div class="profile-form">
                                <h3 class="section-title"><i class="fas fa-sliders-h"></i> System Preferences</h3>
                                
                                <div class="two-column-layout">
                                    <div>
                                        <div class="form-group">
                                            <label class="form-label">Default Language</label>
                                            <select class="form-control" id="systemLanguage">
                                                <option value="hi" selected>Hindi</option>
                                                <option value="en">English</option>
                                            </select>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Attendance Start Time</label>
                                            <input type="time" class="form-control" id="startTime" value="09:00">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Attendance End Time</label>
                                            <input type="time" class="form-control" id="endTime" value="17:00">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <div class="form-group">
                                            <label class="form-check">
                                                <input type="checkbox" id="enableGeofence" checked>
                                                <span>Enable Geofence Restriction</span>
                                            </label>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-check">
                                                <input type="checkbox" id="enableCamera" checked>
                                                <span>Enable Camera Feature</span>
                                            </label>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-check">
                                                <input type="checkbox" id="enableGPS" checked>
                                                <span>Enable Location Tracking</span>
                                            </label>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-check">
                                                <input type="checkbox" id="enableBiometric" checked>
                                                <span>Enable Biometric Authentication</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid var(--border);">
                                    <h3 class="section-title"><i class="fas fa-database"></i> Data Management</h3>
                                    
                                    <div style="display: flex; gap: 12px; margin-top: 16px;">
                                        <button class="btn btn-info" id="backupDataBtn">
                                            <i class="fas fa-download"></i> Backup Data
                                        </button>
                                        <button class="btn btn-warning" id="restoreDataBtn">
                                            <i class="fas fa-upload"></i> Restore Data
                                        </button>
                                        <button class="btn btn-danger" id="clearDataBtn">
                                            <i class="fas fa-trash"></i> Clear Cache
                                        </button>
                                    </div>
                                    
                                    <div class="progress-container" style="margin-top: 20px;">
                                        <div class="progress-label">
                                            <span>System Storage</span>
                                            <span>1.2 GB / 2 GB</span>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 60%;"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary" style="margin-top: 30px;">
                                    <i class="fas fa-save"></i> Save System Settings
                                </button>
                            </div>
                        </div>
                        
                        <div id="notificationsTab" class="tab-content">
                            <div class="profile-form">
                                <h3 class="section-title"><i class="fas fa-bell"></i> Notification Preferences</h3>
                                
                                <div class="form-group">
                                    <label class="form-check">
                                        <input type="checkbox" id="emailNotifications" checked>
                                        <span>Email Notifications</span>
                                    </label>
                                    <small style="color: var(--gray); font-size: 12px; display: block; margin-top: 4px;">Receive important updates via email</small>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-check">
                                        <input type="checkbox" id="pushNotifications" checked>
                                        <span>Push Notifications</span>
                                    </label>
                                    <small style="color: var(--gray); font-size: 12px; display: block; margin-top: 4px;">Get real-time updates in your browser</small>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-check">
                                        <input type="checkbox" id="smsNotifications">
                                        <span>SMS Notifications</span>
                                    </label>
                                    <small style="color: var(--gray); font-size: 12px; display: block; margin-top: 4px;">Receive critical alerts via SMS</small>
                                </div>
                                
                                <div style="margin-top: 30px;">
                                    <h4 style="color: var(--dark); margin-bottom: 16px;">Notification Types</h4>
                                    
                                    <div class="two-column-layout">
                                        <div>
                                            <div class="form-group">
                                                <label class="form-check">
                                                    <input type="checkbox" id="notifyAttendance" checked>
                                                    <span>Attendance Alerts</span>
                                                </label>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label class="form-check">
                                                    <input type="checkbox" id="notifyLeaves" checked>
                                                    <span>Leave Applications</span>
                                                </label>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label class="form-check">
                                                    <input type="checkbox" id="notifySystem" checked>
                                                    <span>System Updates</span>
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <div class="form-group">
                                                <label class="form-check">
                                                    <input type="checkbox" id="notifySecurity" checked>
                                                    <span>Security Alerts</span>
                                                </label>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label class="form-check">
                                                    <input type="checkbox" id="notifyReports">
                                                    <span>Report Generation</span>
                                                </label>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label class="form-check">
                                                    <input type="checkbox" id="notifyAnnouncements" checked>
                                                    <span>Announcements</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary" style="margin-top: 30px;">
                                    <i class="fas fa-save"></i> Save Notification Settings
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Employee Application -->
    <div id="employeeApp">
        <!-- Employee version will have similar redesign but with employee-specific features -->
        <!-- Due to space constraints, showing only admin version in this code -->
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="employeeModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Employee</h3>
                <button class="close-modal" id="closeModalBtn">&times;</button>
            </div>
            
            <form id="employeeForm">
                <input type="hidden" id="employeeId">
                
                <div class="two-column-layout">
                    <div>
                        <div class="form-group">
                            <label class="form-label" for="empName">Full Name</label>
                            <input type="text" id="empName" class="form-control" required placeholder="Enter full name">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="empDepartment">Department</label>
                            <select id="empDepartment" class="form-control" required>
                                <option value="">Select Department</option>
                                <option value="  ">Panchayati Raj Department</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="empOffice">Office Name</label>
                            <select id="empOffice" class="form-control" required>
                                <option value="">Select Office</option>
                                <option value="BLOCK OFFICE ARIARI">BLOCK OFFICE ARIARI</option>
                                <option value="BLOCK OFFICE BARBIGHA">BLOCK OFFICE BARBIGHA</option>
                                <option value="BLOCK OFFICE CHEWARA">BLOCK OFFICE CHEWARA</option>
                                <option value="BLOCK OFFICE GHAT KUSUMBHA">BLOCK OFFICE GHAT KUSUMBHA</option>
                                <option value="BLOCK OFFICE SHEIKHOPUR SARAI">BLOCK OFFICE SHEIKHOPUR SARAI</option>
                                <option value="BLOCK OFFICE SHEIKHPURA SADAR">BLOCK OFFICE SHEIKHPURA SADAR</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="empDesignation">Designation</label>
                            <select id="empDesignation" class="form-control" required>
                                <option value="">Select Designation</option>
                                <option value="DATA ENTRY OPERATOR">DATA ENTRY OPERATOR</option>
                                <option value="EXECUTIVE ASSISTANT">EXECUTIVE ASSISTANT</option>
                                <option value="ACCOUNTANT-CUM-IT ASSISTANT">ACCOUNTANT-CUM-IT ASSISTANT</option>
                                <option value="PANCHAYATI RAJ OFFICER">PANCHAYATI RAJ OFFICER</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <div class="form-group">
                            <label class="form-label" for="empContact">Contact Number</label>
                            <input type="tel" id="empContact" class="form-control" placeholder="Enter contact number">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="empEmail">Email Address</label>
                            <input type="email" id="empEmail" class="form-control" placeholder="Enter email address">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="empJoiningDate">Joining Date</label>
                            <input type="date" id="empJoiningDate" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="empLoginId">Login ID (Auto-generated)</label>
                            <input type="text" id="empLoginId" class="form-control" readonly>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="empPassword">Default Password</label>
                            <div style="display: flex; gap: 8px;">
                                <input type="text" id="empPassword" class="form-control" readonly>
                                <button type="button" class="btn" id="generatePasswordBtn">
                                    <i class="fas fa-redo"></i> Generate
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block" style="margin-top: 24px;">
                    <i class="fas fa-save"></i> Save Employee
                </button>
            </form>
        </div>
    </div>

    <!-- Notification System -->
    <div id="notificationContainer"></div>

    <!-- JavaScript -->
    <script>
        // Modern UI State Management
        const ModernAttendanceSystem = {
            // Core state
            isAuthenticated: false,
            currentUser: null,
            currentUserType: null,
            employees: [],
            attendanceRecords: [],
            leaveApplications: [],
            notifications: [],
            
            // Initialize the system
            init() {
                this.loadData();
                this.setupEventListeners();
                this.initializeDemoData();
                this.hideLoading();
                this.setupLoginType();
                this.initializeCharts();
                this.updateCurrentTime();
                setInterval(() => this.updateCurrentTime(), 1000);
            },
            
            // Data management
            loadData() {
                try {
                    const savedEmployees = localStorage.getItem('panchayat_employees');
                    const savedRecords = localStorage.getItem('panchayat_attendance');
                    const savedLeaves = localStorage.getItem('panchayat_leaves');
                    
                    if (savedEmployees) this.employees = JSON.parse(savedEmployees);
                    if (savedRecords) this.attendanceRecords = JSON.parse(savedRecords);
                    if (savedLeaves) this.leaveApplications = JSON.parse(savedLeaves);
                } catch (error) {
                    console.error('Error loading data:', error);
                }
            },
            
            saveData() {
                try {
                    localStorage.setItem('panchayat_employees', JSON.stringify(this.employees));
                    localStorage.setItem('panchayat_attendance', JSON.stringify(this.attendanceRecords));
                    localStorage.setItem('panchayat_leaves', JSON.stringify(this.leaveApplications));
                } catch (error) {
                    console.error('Error saving data:', error);
                }
            },
            
            // Initialize demo data with all 61 employees
            initializeDemoData() {
                if (this.employees.length === 0) {
                    this.employees = [
                        { id: 1, name: 'TREVENI NATH SAHU', department: '  ', office: 'BLOCK OFFICE ARIARI', designation: 'EXECUTIVE ASSISTANT', contact: '', email: '', loginId: 'PRD005', password: 'PRD005', status: 'active', joiningDate: '2023-01-01', photo: null },
                        { id: 2, name: 'MURARI KUMAR', department: '  ', office: 'BLOCK OFFICE ARIARI', designation: 'ACCOUNTANT-CUM-IT ASSISTANT', contact: '', email: '', loginId: 'PRD010', password: 'PRD010', status: 'active', joiningDate: '2023-01-01', photo: null },
                        { id: 3, name: 'MAMTA KUMARI', department: '  ', office: 'BLOCK OFFICE ARIARI', designation: 'ACCOUNTANT-CUM-IT ASSISTANT', contact: '', email: '', loginId: 'PRD011', password: 'PRD011', status: 'active', joiningDate: '2023-01-01', photo: null },
                        // ... (all 61 employees would be here in production)
                        { id: 61, name: 'MAMTA KUMARI', department: '  ', office: 'GRAM PANCHAYAT, MEHUSH', designation: 'DATA ENTRY OPERATOR', contact: '', email: '', loginId: 'PRD061', password: 'PRD061', status: 'active', joiningDate: '2023-01-01', photo: null }
                    ];
                }
                
                if (this.attendanceRecords.length === 0) {
                    const today = new Date().toISOString().split('T')[0];
                    this.attendanceRecords = [
                        {
                            id: 1,
                            employeeId: 11,
                            name: 'AMAN KUMAR',
                            department: '  ',
                            office: 'BLOCK OFFICE, BARBIGHA',
                            designation: 'DATA ENTRY OPERATOR',
                            time: '09:15 AM',
                            date: today,
                            status: 'present',
                            location: '25.5941, 85.1376',
                            ip: '192.168.1.1',
                            remarks: 'On time',
                            method: 'camera'
                        }
                    ];
                }
                
                if (this.leaveApplications.length === 0) {
                    const today = new Date();
                    const fromDate = new Date(today);
                    fromDate.setDate(today.getDate() + 2);
                    const toDate = new Date(fromDate);
                    toDate.setDate(fromDate.getDate() + 2);
                    
                    this.leaveApplications = [
                        {
                            id: 1,
                            employeeId: 11,
                            employeeName: 'AMAN KUMAR',
                            leaveType: 'casual',
                            fromDate: fromDate.toISOString().split('T')[0],
                            toDate: toDate.toISOString().split('T')[0],
                            days: 3,
                            reason: 'Family function',
                            status: 'pending',
                            appliedOn: today.toISOString().split('T')[0]
                        }
                    ];
                }
                
                this.saveData();
            },
            
            // Setup event listeners
            setupEventListeners() {
                // Login
                document.getElementById('loginForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.handleLogin();
                });
                
                // Login type selection
                document.getElementById('adminLoginBtn').addEventListener('click', () => {
                    this.setLoginType('admin');
                });
                document.getElementById('hrLoginBtn').addEventListener('click', () => {
                    this.setLoginType('hr');
                });
                document.getElementById('employeeLoginBtn').addEventListener('click', () => {
                    this.setLoginType('employee');
                });
                
                // Navigation
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const section = e.currentTarget.dataset.section;
                        this.showSection(section);
                    });
                });
                
                // Tabs
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        const tabId = e.currentTarget.dataset.tab;
                        this.showTab(tabId);
                    });
                });
                
                // Quick actions
                document.getElementById('quickMarkAttendance').addEventListener('click', () => {
                    this.showSection('attendance');
                });
                document.getElementById('quickAddEmployee').addEventListener('click', () => {
                    this.showEmployeeModal();
                });
                document.getElementById('quickViewRecords').addEventListener('click', () => {
                    this.showSection('records');
                });
                document.getElementById('quickManageLeaves').addEventListener('click', () => {
                    this.showSection('leaves');
                });
                
                // Employee management
                document.getElementById('addEmployeeBtn').addEventListener('click', () => {
                    this.showEmployeeModal();
                });
                document.getElementById('closeModalBtn').addEventListener('click', () => {
                    this.closeEmployeeModal();
                });
                document.getElementById('employeeForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.saveEmployee();
                });
                document.getElementById('generatePasswordBtn').addEventListener('click', () => {
                    this.generatePassword();
                });
                
                // Report generation
                document.getElementById('generateDailyReport').addEventListener('click', () => {
                    this.generateReport('daily');
                });
                document.getElementById('generateMonthlyReport').addEventListener('click', () => {
                    this.generateReport('monthly');
                });
                document.getElementById('generateDeptReport').addEventListener('click', () => {
                    this.generateReport('department');
                });
                document.getElementById('generateLeaveReport').addEventListener('click', () => {
                    this.generateReport('leave');
                });
                
                // Search and filter
                document.getElementById('employeeSearch').addEventListener('input', () => {
                    this.filterEmployees();
                });
                document.getElementById('recordSearch').addEventListener('input', () => {
                    this.filterRecords();
                });
                
                // FAQ toggle
                document.querySelectorAll('.faq-item').forEach(item => {
                    item.addEventListener('click', () => {
                        item.classList.toggle('active');
                    });
                });
                
                // Initialize with demo data
                this.loadEmployeeData();
                this.loadAttendanceRecords();
            },
            
            // Login handling
            setLoginType(type) {
                document.querySelectorAll('.login-type-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                if (type === 'admin') {
                    document.getElementById('adminLoginBtn').classList.add('active');
                } else if (type === 'hr') {
                    document.getElementById('hrLoginBtn').classList.add('active');
                } else {
                    document.getElementById('employeeLoginBtn').classList.add('active');
                }
                
                document.getElementById('loginType').value = type;
            },
            
            handleLogin() {
                const username = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value.trim();
                const loginType = document.getElementById('loginType').value;
                
                // Simplified login for demo
                if (loginType === 'admin' && username === 'Barbigha' && password === 'Barbigha') {
                    this.isAuthenticated = true;
                    this.currentUser = { 
                        name: 'Administrator', 
                        role: 'System Admin',
                        type: 'admin',
                        initials: 'A'
                    };
                    this.currentUserType = 'admin';
                    
                    this.showApp('admin');
                    this.showNotification('Login successful! Welcome Administrator', 'success');
                    
                    // Initialize dashboard
                    this.updateDashboard();
                    this.loadEmployeeGrid();
                    
                } else if (loginType === 'employee') {
                    // Employee login logic
                    const employee = this.employees.find(emp => 
                        emp.loginId.toLowerCase() === username.toLowerCase() && 
                        emp.password === password
                    );
                    
                    if (employee) {
                        this.isAuthenticated = true;
                        this.currentUser = {
                            id: employee.id,
                            name: employee.name,
                            role: employee.designation,
                            type: 'employee',
                            initials: employee.name.charAt(0)
                        };
                        this.currentUserType = 'employee';
                        
                        this.showApp('employee');
                        this.showNotification(`Welcome ${employee.name}!`, 'success');
                    } else {
                        this.showNotification('Invalid credentials', 'error');
                    }
                } else {
                    this.showNotification('Invalid credentials', 'error');
                }
            },
            
            showApp(type) {
                document.getElementById('loginPage').style.display = 'none';
                if (type === 'admin') {
                    document.getElementById('mainApp').style.display = 'block';
                    document.getElementById('employeeApp').style.display = 'none';
                } else {
                    document.getElementById('mainApp').style.display = 'none';
                    document.getElementById('employeeApp').style.display = 'block';
                }
            },
            
            // Navigation
            showSection(section) {
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                document.querySelector(`.nav-link[data-section="${section}"]`).classList.add('active');
                
                // Update active section
                document.querySelectorAll('.content-section').forEach(sec => {
                    sec.classList.remove('active');
                });
                document.getElementById(`${section}Section`).classList.add('active');
                
                // Load section data
                switch(section) {
                    case 'dashboard':
                        this.updateDashboard();
                        break;
                    case 'employees':
                        this.loadEmployeeGrid();
                        break;
                    case 'records':
                        this.loadAttendanceRecords();
                        break;
                    case 'leaves':
                        this.loadLeaveApplications();
                        break;
                    case 'analytics':
                        this.updateCharts();
                        break;
                }
            },
            
            showTab(tabId) {
                // Update active tab
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector(`.tab[data-tab="${tabId}"]`).classList.add('active');
                
                // Update active tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(`${tabId}Tab`).classList.add('active');
            },
            
            // Dashboard functions
            updateDashboard() {
                const today = new Date().toISOString().split('T')[0];
                const todayRecords = this.attendanceRecords.filter(r => r.date === today);
                const presentToday = todayRecords.filter(r => r.status === 'present').length;
                const pendingLeaves = this.leaveApplications.filter(l => l.status === 'pending').length;
                
                // Update stats
                document.getElementById('todayPresent').textContent = presentToday;
                document.getElementById('todayAbsent').textContent = this.employees.length - presentToday;
                document.getElementById('totalEmployeesDash').textContent = this.employees.length;
                document.getElementById('pendingLeavesDash').textContent = pendingLeaves;
                
                // Update sidebar
                document.getElementById('sidebarAttendanceCount').textContent = 
                    Math.round((presentToday / this.employees.length) * 100) + '%';
                document.getElementById('sidebarEmployeeCount').textContent = this.employees.length;
                document.getElementById('sidebarPresentCount').textContent = presentToday;
                document.getElementById('sidebarPendingLeaves').textContent = pendingLeaves;
                
                // Update badges
                document.getElementById('employeeCountBadge').textContent = this.employees.length;
                document.getElementById('leaveCountBadge').textContent = pendingLeaves;
                
                // Update recent activity
                this.updateRecentActivity();
            },
            
            updateRecentActivity() {
                const activityList = document.getElementById('recentActivityList');
                const recentRecords = [...this.attendanceRecords]
                    .sort((a, b) => new Date(b.date + ' ' + b.time) - new Date(a.date + ' ' + a.time))
                    .slice(0, 4);
                
                let html = '';
                recentRecords.forEach(record => {
                    let icon = 'check';
                    let iconClass = 'present';
                    let title = `${record.name} marked attendance`;
                    let subtitle = `${record.office} - ${record.time}`;
                    
                    if (record.status === 'absent') {
                        icon = 'user-times';
                        iconClass = 'absent';
                        title = `${record.name} was absent`;
                    } else if (record.status === 'late') {
                        icon = 'clock';
                        iconClass = 'absent';
                        title = `${record.name} was late`;
                    }
                    
                    html += `
                        <li class="activity-item">
                            <div class="activity-icon ${iconClass}">
                                <i class="fas fa-${icon}"></i>
                            </div>
                            <div class="activity-content">
                                <h4>${title}</h4>
                                <p>${subtitle}</p>
                            </div>
                            <div class="activity-time">Today</div>
                        </li>
                    `;
                });
                
                activityList.innerHTML = html;
            },
            
            // Employee management
            loadEmployeeGrid() {
                const employeeGrid = document.getElementById('employeeGrid');
                let html = '';
                
                this.employees.forEach(employee => {
                    const initials = employee.name.split(' ').map(n => n[0]).join('').toUpperCase();
                    
                    html += `
                        <div class="employee-card">
                            <div class="employee-header">
                                <div class="employee-avatar">
                                    ${initials}
                                </div>
                                <div class="employee-name">${employee.name}</div>
                                <div class="employee-role">${employee.designation}</div>
                            </div>
                            <div class="employee-details">
                                <div class="detail-item">
                                    <span class="detail-label">Employee ID</span>
                                    <span class="detail-value">${employee.loginId}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Department</span>
                                    <span class="detail-value">${employee.department}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Office</span>
                                    <span class="detail-value">${employee.office}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Joining Date</span>
                                    <span class="detail-value">${employee.joiningDate}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Status</span>
                                    <span class="detail-value">
                                        <span class="status-badge ${employee.status === 'active' ? 'status-present' : 'status-absent'}">
                                            ${employee.status === 'active' ? 'Active' : 'Inactive'}
                                        </span>
                                    </span>
                                </div>
                            </div>
                            <div class="employee-actions">
                                <button class="btn-icon" title="Edit" onclick="ModernAttendanceSystem.editEmployee(${employee.id})">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-icon" title="View Details" onclick="ModernAttendanceSystem.viewEmployee(${employee.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn-icon" title="Reset Password" onclick="ModernAttendanceSystem.resetPassword(${employee.id})">
                                    <i class="fas fa-key"></i>
                                </button>
                                <button class="btn-icon" title="Delete" onclick="ModernAttendanceSystem.deleteEmployee(${employee.id})">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                employeeGrid.innerHTML = html;
                
                // Populate employee dropdowns
                this.populateEmployeeDropdowns();
            },
            
            populateEmployeeDropdowns() {
                const attendanceSelect = document.getElementById('attendanceEmployee');
                const recordSelect = document.getElementById('filterRecordEmployee');
                const leaveSelect = document.getElementById('filterLeaveEmployee');
                
                // Clear existing options
                [attendanceSelect, recordSelect, leaveSelect].forEach(select => {
                    if (select) {
                        select.innerHTML = '<option value="">-- Select Employee --</option>';
                    }
                });
                
                // Add options
                this.employees.forEach(employee => {
                    const option = `<option value="${employee.id}">${employee.name} (${employee.loginId})</option>`;
                    
                    if (attendanceSelect) attendanceSelect.innerHTML += option;
                    if (recordSelect) recordSelect.innerHTML += option;
                    if (leaveSelect) leaveSelect.innerHTML += option;
                });
            },
            
            filterEmployees() {
                const searchTerm = document.getElementById('employeeSearch').value.toLowerCase();
                const department = document.getElementById('filterDepartment').value;
                const office = document.getElementById('filterOffice').value;
                const status = document.getElementById('filterStatus').value;
                
                const filtered = this.employees.filter(employee => {
                    const matchesSearch = employee.name.toLowerCase().includes(searchTerm) ||
                                        employee.loginId.toLowerCase().includes(searchTerm) ||
                                        employee.department.toLowerCase().includes(searchTerm);
                    const matchesDept = !department || employee.department === department;
                    const matchesOffice = !office || employee.office === office;
                    const matchesStatus = !status || employee.status === status;
                    
                    return matchesSearch && matchesDept && matchesOffice && matchesStatus;
                });
                
                this.displayFilteredEmployees(filtered);
            },
            
            displayFilteredEmployees(employees) {
                const employeeGrid = document.getElementById('employeeGrid');
                
                if (employees.length === 0) {
                    employeeGrid.innerHTML = `
                        <div class="empty-state" style="grid-column: 1/-1;">
                            <i class="fas fa-users"></i>
                            <h3>No employees found</h3>
                            <p>Try adjusting your search or filters</p>
                        </div>
                    `;
                    return;
                }
                
                let html = '';
                employees.forEach(employee => {
                    const initials = employee.name.split(' ').map(n => n[0]).join('').toUpperCase();
                    
                    html += `
                        <div class="employee-card">
                            <div class="employee-header">
                                <div class="employee-avatar">
                                    ${initials}
                                </div>
                                <div class="employee-name">${employee.name}</div>
                                <div class="employee-role">${employee.designation}</div>
                            </div>
                            <div class="employee-details">
                                <div class="detail-item">
                                    <span class="detail-label">Employee ID</span>
                                    <span class="detail-value">${employee.loginId}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Department</span>
                                    <span class="detail-value">${employee.department}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Office</span>
                                    <span class="detail-value">${employee.office}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Status</span>
                                    <span class="detail-value">
                                        <span class="status-badge ${employee.status === 'active' ? 'status-present' : 'status-absent'}">
                                            ${employee.status === 'active' ? 'Active' : 'Inactive'}
                                        </span>
                                    </span>
                                </div>
                            </div>
                            <div class="employee-actions">
                                <button class="btn-icon" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-icon" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                employeeGrid.innerHTML = html;
            },
            
            showEmployeeModal(employee = null) {
                const modal = document.getElementById('employeeModal');
                const title = document.getElementById('modalTitle');
                
                if (employee) {
                    title.textContent = 'Edit Employee';
                    // Populate form with employee data
                    document.getElementById('employeeId').value = employee.id;
                    document.getElementById('empName').value = employee.name;
                    document.getElementById('empDepartment').value = employee.department;
                    document.getElementById('empOffice').value = employee.office;
                    document.getElementById('empDesignation').value = employee.designation;
                    document.getElementById('empContact').value = employee.contact || '';
                    document.getElementById('empEmail').value = employee.email || '';
                    document.getElementById('empJoiningDate').value = employee.joiningDate || '';
                    document.getElementById('empLoginId').value = employee.loginId || '';
                    document.getElementById('empPassword').value = employee.password || '';
                } else {
                    title.textContent = 'Add New Employee';
                    document.getElementById('employeeForm').reset();
                    document.getElementById('employeeId').value = '';
                    
                    // Generate default values
                    const nextId = this.employees.length + 1;
                    const loginId = `PRD${nextId.toString().padStart(3, '0')}`;
                    document.getElementById('empLoginId').value = loginId;
                    document.getElementById('empJoiningDate').value = new Date().toISOString().split('T')[0];
                    
                    this.generatePassword();
                }
                
                modal.style.display = 'flex';
            },
            
            closeEmployeeModal() {
                document.getElementById('employeeModal').style.display = 'none';
            },
            
            generatePassword() {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
                let password = '';
                for (let i = 0; i < 8; i++) {
                    password += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                document.getElementById('empPassword').value = password;
            },
            
            saveEmployee() {
                const id = document.getElementById('employeeId').value;
                const name = document.getElementById('empName').value.toUpperCase();
                const department = document.getElementById('empDepartment').value;
                const office = document.getElementById('empOffice').value;
                const designation = document.getElementById('empDesignation').value;
                const contact = document.getElementById('empContact').value;
                const email = document.getElementById('empEmail').value;
                const joiningDate = document.getElementById('empJoiningDate').value;
                const loginId = document.getElementById('empLoginId').value;
                const password = document.getElementById('empPassword').value;
                
                // Validation
                if (!name || !department || !office || !designation || !loginId || !password) {
                    this.showNotification('Please fill all required fields', 'error');
                    return;
                }
                
                const employeeData = {
                    name,
                    department,
                    office,
                    designation,
                    contact,
                    email,
                    joiningDate,
                    loginId,
                    password,
                    status: 'active',
                    photo: null
                };
                
                if (id) {
                    // Update existing employee
                    const index = this.employees.findIndex(emp => emp.id == id);
                    if (index !== -1) {
                        this.employees[index] = { ...this.employees[index], ...employeeData };
                    }
                } else {
                    // Add new employee
                    const newEmployee = {
                        id: this.employees.length + 1,
                        ...employeeData
                    };
                    this.employees.push(newEmployee);
                }
                
                this.saveData();
                this.loadEmployeeGrid();
                this.updateDashboard();
                this.closeEmployeeModal();
                
                this.showNotification(`Employee ${id ? 'updated' : 'added'} successfully`, 'success');
            },
            
            editEmployee(id) {
                const employee = this.employees.find(emp => emp.id == id);
                if (employee) {
                    this.showEmployeeModal(employee);
                }
            },
            
            viewEmployee(id) {
                const employee = this.employees.find(emp => emp.id == id);
                if (employee) {
                    alert(`Employee Details:\n\nName: ${employee.name}\nID: ${employee.loginId}\nDepartment: ${employee.department}\nOffice: ${employee.office}\nDesignation: ${employee.designation}\nJoining Date: ${employee.joiningDate}\nStatus: ${employee.status}`);
                }
            },
            
            resetPassword(id) {
                const employee = this.employees.find(emp => emp.id == id);
                if (employee) {
                    const newPassword = employee.loginId;
                    employee.password = newPassword;
                    this.saveData();
                    this.showNotification(`Password reset for ${employee.name}. New password: ${newPassword}`, 'success');
                }
            },
            
            deleteEmployee(id) {
                if (confirm('Are you sure you want to delete this employee?')) {
                    this.employees = this.employees.filter(emp => emp.id != id);
                    this.saveData();
                    this.loadEmployeeGrid();
                    this.updateDashboard();
                    this.showNotification('Employee deleted successfully', 'success');
                }
            },
            
            // Attendance records
            loadAttendanceRecords() {
                const tbody = document.getElementById('recordsTableBody');
                let html = '';
                
                this.attendanceRecords.forEach(record => {
                    const employee = this.employees.find(emp => emp.id == record.employeeId);
                    
                    html += `
                        <tr>
                            <td>${record.date}</td>
                            <td>${record.name}</td>
                            <td>${record.department}</td>
                            <td>${record.office}</td>
                            <td>${record.time}</td>
                            <td>
                                <span class="status-badge ${record.status === 'present' ? 'status-present' : 'status-absent'}">
                                    ${record.status === 'present' ? 'Present' : 'Absent'}
                                </span>
                            </td>
                            <td>${record.location}</td>
                            <td>${record.method || 'camera'}</td>
                            <td>
                                <button class="btn-icon" title="View Details" onclick="ModernAttendanceSystem.viewRecordDetails(${record.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn-icon" title="Delete" onclick="ModernAttendanceSystem.deleteRecord(${record.id})">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                });
                
                tbody.innerHTML = html;
            },
            
            filterRecords() {
                const searchTerm = document.getElementById('recordSearch').value.toLowerCase();
                const date = document.getElementById('filterDate').value;
                const employeeId = document.getElementById('filterRecordEmployee').value;
                const status = document.getElementById('filterRecordStatus').value;
                
                const filtered = this.attendanceRecords.filter(record => {
                    const matchesSearch = record.name.toLowerCase().includes(searchTerm) ||
                                        record.department.toLowerCase().includes(searchTerm) ||
                                        record.office.toLowerCase().includes(searchTerm);
                    const matchesDate = !date || record.date === date;
                    const matchesEmployee = !employeeId || record.employeeId == employeeId;
                    const matchesStatus = !status || record.status === status;
                    
                    return matchesSearch && matchesDate && matchesEmployee && matchesStatus;
                });
                
                this.displayFilteredRecords(filtered);
            },
            
            displayFilteredRecords(records) {
                const tbody = document.getElementById('recordsTableBody');
                
                if (records.length === 0) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: var(--gray);">
                                <i class="fas fa-search" style="font-size: 24px; margin-bottom: 10px;"></i>
                                <p>No records found</p>
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                let html = '';
                records.forEach(record => {
                    html += `
                        <tr>
                            <td>${record.date}</td>
                            <td>${record.name}</td>
                            <td>${record.department}</td>
                            <td>${record.office}</td>
                            <td>${record.time}</td>
                            <td>
                                <span class="status-badge ${record.status === 'present' ? 'status-present' : 'status-absent'}">
                                    ${record.status === 'present' ? 'Present' : 'Absent'}
                                </span>
                            </td>
                            <td>${record.location}</td>
                            <td>${record.method || 'camera'}</td>
                            <td>
                                <button class="btn-icon" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                });
                
                tbody.innerHTML = html;
            },
            
            viewRecordDetails(id) {
                const record = this.attendanceRecords.find(r => r.id === id);
                if (record) {
                    alert(`Attendance Record Details:\n\nName: ${record.name}\nDate: ${record.date}\nTime: ${record.time}\nStatus: ${record.status}\nDepartment: ${record.department}\nOffice: ${record.office}\nLocation: ${record.location}\nIP Address: ${record.ip}\nMethod: ${record.method || 'camera'}\nRemarks: ${record.remarks || 'None'}`);
                }
            },
            
            deleteRecord(id) {
                if (confirm('Are you sure you want to delete this attendance record?')) {
                    this.attendanceRecords = this.attendanceRecords.filter(r => r.id !== id);
                    this.saveData();
                    this.loadAttendanceRecords();
                    this.updateDashboard();
                    this.showNotification('Attendance record deleted successfully', 'success');
                }
            },
            
            // Leave management
            loadLeaveApplications() {
                const pendingTbody = document.getElementById('pendingLeavesTableBody');
                const approvedTbody = document.getElementById('approvedLeavesTableBody');
                const rejectedTbody = document.getElementById('rejectedLeavesTableBody');
                const allTbody = document.getElementById('allLeavesTableBody');
                
                let pendingHtml = '';
                let approvedHtml = '';
                let rejectedHtml = '';
                let allHtml = '';
                
                this.leaveApplications.forEach(leave => {
                    const row = `
                        <tr>
                            <td>${leave.employeeName}</td>
                            <td>${leave.leaveType}</td>
                            <td>${leave.fromDate}</td>
                            <td>${leave.toDate}</td>
                            <td>${leave.days}</td>
                            <td>${leave.reason}</td>
                        </tr>
                    `;
                    
                    const rowWithStatus = `
                        <tr>
                            <td>${leave.employeeName}</td>
                            <td>${leave.leaveType}</td>
                            <td>${leave.fromDate}</td>
                            <td>${leave.toDate}</td>
                            <td>${leave.days}</td>
                            <td>
                                <span class="status-badge ${leave.status === 'approved' ? 'status-approved' : leave.status === 'rejected' ? 'status-rejected' : 'status-pending'}">
                                    ${leave.status}
                                </span>
                            </td>
                            <td>${leave.appliedOn}</td>
                        </tr>
                    `;
                    
                    const rowWithActions = `
                        <tr>
                            <td>${leave.employeeName}</td>
                            <td>${leave.leaveType}</td>
                            <td>${leave.fromDate}</td>
                            <td>${leave.toDate}</td>
                            <td>${leave.days}</td>
                            <td>${leave.reason}</td>
                            <td>${leave.appliedOn}</td>
                            <td>
                                <button class="btn-icon" title="Approve">
                                    <i class="fas fa-check"></i>
                                </button>
                                <button class="btn-icon" title="Reject">
                                    <i class="fas fa-times"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                    
                    allHtml += rowWithStatus;
                    
                    if (leave.status === 'pending') {
                        pendingHtml += rowWithActions;
                    } else if (leave.status === 'approved') {
                        approvedHtml += row;
                    } else if (leave.status === 'rejected') {
                        rejectedHtml += row;
                    }
                });
                
                if (pendingTbody) pendingTbody.innerHTML = pendingHtml || '<tr><td colspan="8" style="text-align: center; color: var(--gray);">No pending leaves</td></tr>';
                if (approvedTbody) approvedTbody.innerHTML = approvedHtml || '<tr><td colspan="7" style="text-align: center; color: var(--gray);">No approved leaves</td></tr>';
                if (rejectedTbody) rejectedTbody.innerHTML = rejectedHtml || '<tr><td colspan="7" style="text-align: center; color: var(--gray);">No rejected leaves</td></tr>';
                if (allTbody) allTbody.innerHTML = allHtml || '<tr><td colspan="7" style="text-align: center; color: var(--gray);">No leave records</td></tr>';
            },
            
            // Report generation
            generateReport(type) {
                let reportName = '';
                
                switch(type) {
                    case 'daily':
                        reportName = 'Daily Attendance Report';
                        break;
                    case 'monthly':
                        reportName = 'Monthly Summary Report';
                        break;
                    case 'department':
                        reportName = 'Department Analysis Report';
                        break;
                    case 'leave':
                        reportName = 'Leave Utilization Report';
                        break;
                }
                
                this.showNotification(`${reportName} generated successfully. Download will start shortly.`, 'success');
                
                // Simulate download
                setTimeout(() => {
                    this.showNotification(`${reportName} downloaded successfully.`, 'success');
                }, 1500);
            },
            
            // Charts
            initializeCharts() {
                // Attendance Trend Chart
                const trendCtx = document.getElementById('attendanceTrendChart');
                if (trendCtx) {
                    new Chart(trendCtx, {
                        type: 'line',
                        data: {
                            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
                            datasets: [{
                                label: 'Attendance %',
                                data: [85, 88, 92, 90, 87, 45],
                                borderColor: '#4361ee',
                                backgroundColor: 'rgba(67, 97, 238, 0.1)',
                                fill: true,
                                tension: 0.4
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        }
                    });
                }
                
                // Department Distribution Chart
                const deptCtx = document.getElementById('departmentChart');
                if (deptCtx) {
                    new Chart(deptCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Panchayati Raj', 'Administration', 'Finance', 'Others'],
                            datasets: [{
                                data: [85, 8, 5, 2],
                                backgroundColor: [
                                    '#4361ee',
                                    '#06d6a0',
                                    '#ef476f',
                                    '#ffd166'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'bottom'
                                }
                            }
                        }
                    });
                }
            },
            
            updateCharts() {
                // Update analytics charts based on selected period
                const period = document.getElementById('analyticsPeriod').value;
                
                // Update metrics
                document.getElementById('avgAttendanceMetric').textContent = '85%';
                document.getElementById('avgArrivalMetric').textContent = '9:15 AM';
                document.getElementById('lateArrivalsMetric').textContent = '12%';
                document.getElementById('absenteeismMetric').textContent = '8%';
                
                // Update charts
                // In a real app, this would fetch new data based on the period
            },
            
            // Utility functions
            showNotification(message, type = 'info') {
                const container = document.getElementById('notificationContainer');
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                `;
                
                container.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(100%)';
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            },
            
            updateCurrentTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-IN', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    hour12: true 
                });
                const dateString = now.toLocaleDateString('en-IN', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                const timeElement = document.getElementById('currentTime');
                if (timeElement) {
                    timeElement.textContent = `${dateString} | ${timeString}`;
                }
            },
            
            hideLoading() {
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('loadingScreen').style.display = 'none';
                    }, 500);
                }, 1500);
            },
            
            // Load employee data for attendance section
            loadEmployeeData() {
                this.populateEmployeeDropdowns();
                
                // Set up employee selection change
                const employeeSelect = document.getElementById('attendanceEmployee');
                if (employeeSelect) {
                    employeeSelect.addEventListener('change', (e) => {
                        const employeeId = e.target.value;
                        if (employeeId) {
                            const employee = this.employees.find(emp => emp.id == employeeId);
                            if (employee) {
                                document.getElementById('attendanceDepartment').value = employee.department;
                                document.getElementById('attendanceDesignation').value = employee.designation;
                                document.getElementById('attendanceOffice').value = employee.office;
                            }
                        }
                    });
                }
            }
        };

        // Initialize the system when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            ModernAttendanceSystem.init();
        });

        // Make system available globally
        window.ModernAttendanceSystem = ModernAttendanceSystem;
    </script>
</body>
</html>
